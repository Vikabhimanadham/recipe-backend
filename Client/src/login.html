<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="./output.css" rel="stylesheet">
</head>

<body class="min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-100 to-orange-300">

  <!-- Login Card -->
  <div class="bg-white w-[90%] max-w-md p-8 rounded-2xl shadow-xl">

    <!-- Header -->
    <h2 class="text-2xl font-bold text-center text-orange-500">üç≤ RecipeShare</h2>
    <p class="text-center text-gray-500 mt-1">
      Welcome back! Please login
    </p>

    <!-- Login Form -->
    <form id="loginForm" class="mt-6 space-y-4">

      <!-- Email -->
      <div>
        <label class="text-sm text-gray-600">Email</label>
        <input
          id="email"
          type="email"
          placeholder="you@example.com"
          required
          class="w-full mt-1 p-3 border rounded-lg
                 focus:outline-none focus:ring-2 focus:ring-orange-400"
        />
      </div>

      <!-- Password -->
      <div>
        <label class="text-sm text-gray-600">Password</label>
        <input
          id="password"
          type="password"
          placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
          required
          class="w-full mt-1 p-3 border rounded-lg
                 focus:outline-none focus:ring-2 focus:ring-orange-400"
        />
      </div>

      <!-- Login Button -->
      <button
        type="submit"
        class="w-full bg-orange-500 text-white py-3 rounded-lg
               font-semibold hover:bg-orange-600 transition">
        Login
      </button>
    </form>

    <!-- Footer -->
    <p class="text-sm text-center text-gray-500 mt-4">
      Don‚Äôt have an account?
      <a href="register.html"
         class="text-orange-500 font-semibold hover:underline">
        Register
      </a>
    </p>

  </div>

</body>
<script> 
    const LOGIN_API = "http://localhost:5000/api/recipes/login";

document.getElementById("loginForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  const res = await fetch(LOGIN_API, {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({ email, password })
  });

  const data = await res.json();

  if (!res.ok) {
    alert(data.message);
    return;
  }

  // ‚úÖ STORE JWT HERE
  localStorage.setItem("token", data.token);

  // Redirect to app
  window.location.href = "index.html";
});
 
</script>
</html>
